<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="Board" >
	<select id="getBoardList" parameterType="_int" resultType="fulldto">
<!-- 		SELECT * FROM BOARD_TEST bt INNER JOIN USER_TEST ut  -->
<!-- 		ON bt.USER_NUM = ut.USER_NUM  -->
<!-- 		WHERE bt.MOVIE_ID = #{movie_id} -->
		SELECT 	*
		FROM "USER" u 
		INNER JOIN BOARD b  ON u.USER_NUM = b.USER_NUM 
		INNER JOIN "COMMENT" c  ON u.USER_NUM = c.USER_NUM
		INNER JOIN MOVIE m  ON b.MOVIE_ID = m.MOVIE_ID 
		WHERE m.MOVIE_ID  = #{movie_id};
	</select>
	<insert id="addComment" parameterType="boarddto">
		INSERT INTO BOARD
		VALUES (board_num_seq.nextval, #{board_content}, sysdate, 0, 'Y', #{user_num}, #{movie_id});
	</insert>
	

</mapper>